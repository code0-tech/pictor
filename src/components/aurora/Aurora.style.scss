@use "../../styles/variables";

.aurora-background {
  position: absolute;
  height: 100%;
  width: 100%;
  left: 0;
  top: 0;
  border-radius: inherit;
  pointer-events: none;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  background-color: transparent; // Tailwind bg-zinc-50
  transition: background-color 150ms ease, color 150ms ease;


  // CSS-Variablen wie im Original-Style-Objekt
  --aurora: repeating-linear-gradient(
                  100deg,
                  rgba(112, 255, 178, 0.7) 0%,
                  rgba(226, 112, 255, 0.9) 8%,
                  rgba(181, 255, 214, 0.8) 16%,
                  rgba(199, 255, 112, 0.9) 24%,
                  transparent 32%
  );
  --gradient: repeating-linear-gradient(
                  100deg,
                  rgba(255,255,255, 1) 0%,
                  rgba(255,255,255, 1) 3%,
                  transparent 10%,
                  transparent 12%,
                  rgba(255,255,255, 1) 16%
  );

  --transparent: transparent;
}

.aurora-background__overlay {
  position: absolute;
  inset: 0;
  overflow: hidden;
  pointer-events: none;
}

// Das ist der eigentliche "Aurora"-Layer
.aurora-background__aurora {
  position: absolute;
  inset: -10px;
  pointer-events: none;
  opacity: 0.5;
  filter: blur(10px);
  will-change: transform;

  background-image: var(--gradient), var(--aurora);
  background-size: 300% 300%, 200% 200%;
  background-position: 50% 50%, 50% 50%;

  // ::after entspricht after:... aus dem Tailwind-Kram
  &::after {
    content: "";
    position: absolute;
    inset: 0;
    background-image: var(--gradient), var(--aurora);
    background-size: 200% 200%, 100% 100%;
    background-attachment: fixed;
    mix-blend-mode: difference;
    animation: aurora-animation 45s ease-in-out infinite alternate;
  }
}

// entspricht [mask-image:radial-gradient(...)]
.aurora-background--radial-mask .aurora-background__aurora {
  mask-image: radial-gradient(
                  ellipse at 100% 0%,
                  black 10%,
                  var(--transparent) 70%
  );
  -webkit-mask-image: radial-gradient(
                  ellipse at 100% 0%,
                  black 10%,
                  var(--transparent) 70%
  );
}

// einfache Aurora-Animation (ersetzt animate-aurora)
@keyframes aurora-animation {
  0% {
    background-position: 0% 50%, 50% 50%;
  }
  50% {
    background-position: 100% 50%, 50% 50%;
  }
  100% {
    background-position: 0% 50%, 50% 50%;
  }
}